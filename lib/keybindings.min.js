(function(){$(document).ready(function(){var b=function(){this._body=document.body;this._bindings={}};b.prototype.unfancy=function(a){return a.replace(/[\+]+/g,"")};b.prototype.addOne=function(a,c,d,e){e="string"!==typeof e?"keydown":e;var f="string"!==typeof d?this._body:$(d),b=this.unfancy(e+"."+a);d=this._body===f?"body":d;var g=e+"/"+a+"/"+d;"string"===typeof a&&"function"===typeof c&&($(f).bind(b,jwerty.event(a,c)),this._bindings[g]={key:a,func:c,context:d,contextNode:f,event:e})};b.prototype.add=function(a,c,d){var e=this;_.isObject(a)&&_.each(a,function(a,b){e.addOne(b,a,c,d)})};b.prototype.isBinded=function(a,c,d){var e="string"!==typeof d?"keydown":d,f="string"!==typeof c?this._body:$(c),b=e+"/"+a+"/"+(this._body===f?"body":c),g=!1;"undefined"===typeof c&&"undefined"===typeof d?g=_.has(this._bindings,b):_.find(this._bindings,function(a,c){a.contextNode.selector===f.selector&&(a.event===e&&c===b)&&(g=!0)});return g};b.prototype.removeOne=function(a,c,d){var e=!1,b="string"!==typeof d?"keydown":d,h="string"!==typeof c?this._body:$(c),g=this.unfancy(b+"."+a),b=b+"/"+a+"/"+(this._body===h?"body":c);this.isBinded(a,c,d)&&($(h).unbind(g),this._bindings=_.omit(this._bindings,b),e=!0);return e};b.prototype.remove=function(a,c,d){var b=this;_.isArray(a)&&_.each(a,function(a){b.removeOne(a,c,d)})};b.prototype.removeAll=function(){var a=this;_.each(this._bindings,function(c){a.removeOne(c.key,c.context,c.event)})};b.prototype.replace=function(a,c,b,e){var f=!1;this.isBinded(a,b,e)&&(this.removeOne(a,b,e),this.addOne(a,c,b,e),f=!0);return f};Meteor.Keybindings=new b})})();